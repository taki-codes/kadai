<div class="game-form-container">
  <h1>{{ isNew ? '新規作成' : 'ゲーム編集' }}</h1>

  <!-- エラーメッセージを表示 -->
  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <form (ngSubmit)="saveGame()">
    <div class="form-group">
      <label for="title">ゲーム名</label>
      <input id="title"
             type="text"
             class="form-control"
             [(ngModel)]="game.title"
             name="Title"
             required
             placeholder="ゲーム名を入力してください" />
      <div *ngIf="titleError" class="text-danger">{{ titleError }}</div>
    </div>

    <div class="form-group">
      <label for="makerId">メーカー</label>
      <select id="makerId"
              class="form-control"
              [(ngModel)]="game.maker_Id"
              name="Maker_Id"
              required>
        <option *ngFor="let maker of makers" [value]="maker.maker_Id">
          {{ maker.maker_Name }}
        </option>
      </select>
      <div *ngIf="makerError" class="text-danger">{{ makerError }}</div>
    </div>

    <div class="form-group">
      <label for="genreId">ジャンル</label>
      <select id="genreId"
              class="form-control"
              [(ngModel)]="game.genre_Id"
              name="Genre_Id"
              required>
        <option *ngFor="let genre of genres" [value]="genre.genre_Id">
          {{ genre.genre_Name }}
        </option>
      </select>
      <div *ngIf="genreError" class="text-danger">{{ genreError }}</div>
    </div>

    <div class="form-group">
      <label for="salesCount">売上件数</label>
      <input id="salesCount"
             type="number"
             class="form-control"
             [(ngModel)]="game.sales_Count"
             name="Sales_Count"
             required
             placeholder="売上本数を入力してください" />
      <div *ngIf="salesCountError" class="text-danger">{{ salesCountError }}</div>
    </div>

    <div class="form-group">
      <label for="memo">メモ</label>
      <textarea id="memo"
                class="form-control"
                [(ngModel)]="game.memo"
                name="Memo"
                placeholder="メモを入力してください"></textarea>
    </div>

    <div class="actions">
      <button type="submit" class="btn btn-primary">保存</button>
      <button type="button" class="btn btn-secondary" (click)="goBack()">キャンセル</button>
      <button *ngIf="!isNew" type="button" class="btn btn-danger" (click)="deleteGame()">削除</button>
    </div>
  </form>
</div>
